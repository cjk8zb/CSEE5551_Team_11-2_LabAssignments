{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/chat.service.ts","webpack:///./src/app/connected.guard.ts","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.scss","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/welcome/welcome.component.html","webpack:///./src/app/welcome/welcome.component.scss","webpack:///./src/app/welcome/welcome.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {HomeComponent} from './home/home.component';\nimport {WelcomeComponent} from './welcome/welcome.component';\nimport {ConnectedGuard} from './connected.guard';\n\nconst routes: Routes = [\n  {path: '', component: HomeComponent, canActivate: [ConnectedGuard]},\n  {path: 'join', component: WelcomeComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","module.exports = \"<main class=\\\"container-fluid flex-fill d-flex flex-column\\\">\\n  <router-outlet></router-outlet>\\n</main>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYW1qa25pZ2h0L0RvY3VtZW50cy9VTUtDL2dpdGh1Yi9DU0VFNTU1MV9UZWFtXzExLTJfTGFiQXNzaWdubWVudHMvTGFiMy9DbGllbnQvc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCLEVBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuIl19 */\"","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'chat-client';\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {HomeComponent} from './home/home.component';\nimport {WelcomeComponent} from './welcome/welcome.component';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    WelcomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    HttpClientModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport * as uuidv4 from 'uuid/v4';\nimport {Router} from '@angular/router';\n\ntype ChatCallback = (json: any) => void;\n\nconst httpUrl = `${location.origin}/chatroom`;\nconst webSocketUrl = location.origin.replace(/^http/, 'ws');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChatService {\n  public isConnected = false;\n  public listener: ChatCallback = (json => {\n    console.log('json', json);\n  });\n  public me;\n  private webSocket: WebSocket;\n\n  constructor(private http: HttpClient, private router: Router) {\n  }\n\n  public join(nickname: String) {\n    const uuid = uuidv4();\n    this.webSocket = new WebSocket(webSocketUrl);\n    this.webSocket.onopen = (event: Event) => {\n      console.log('event', event);\n      this.me = {nickname, uuid};\n      this.webSocket.send(JSON.stringify({join: this.me}));\n    };\n    this.webSocket.onmessage = (message: MessageEvent) => {\n      const json = JSON.parse(message.data);\n      if (json.joined && json.joined.uuid && json.joined.uuid === uuid) {\n        this.isConnected = true;\n        this.router.navigate(['/']);\n      } else if (json.ping) {\n        this.webSocket.send(JSON.stringify({pong: Date.now()}));\n      } else {\n        this.listener(json);\n      }\n    };\n  }\n\n  public send(topic: string, text: string) {\n    const sender = this.me;\n    this.webSocket.send(JSON.stringify({send: {topic, text, sender}}));\n  }\n\n  getTopics() {\n    const sender = this.me;\n    return this.http.get(httpUrl);\n  }\n\n  addTopic(topic: string) {\n    const sender = this.me;\n    return this.http.post(httpUrl, {topic, sender}).subscribe(results => {\n      console.log(results);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  deleteTopic(topic: any) {\n    const sender = this.me;\n    return this.http.delete(httpUrl, {params: {topic, sender}}).subscribe(results => {\n      console.log(results);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {ChatService} from './chat.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConnectedGuard implements CanActivate {\n\n  constructor(private chat: ChatService, private router: Router) {\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n\n    if (this.chat.isConnected) {\n      return true;\n    }\n\n    this.router.navigate(['/join']);\n    return false;\n  }\n}\n","module.exports = \"<div class=\\\"row flex-fill\\\">\\n\\n  <div class=\\\"col-4 p-0\\\">\\n    <header class=\\\"navbar sticky-top navbar-dark bg-dark\\\">\\n      <span class=\\\"navbar-brand mb-0 h1\\\">Topics</span>\\n      <form class=\\\"inline-form\\\" (ngSubmit)=\\\"addTopic()\\\" #topicForm=\\\"ngForm\\\">\\n        <div class=\\\"input-group\\\">\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Add Topic\\\" id=\\\"topic\\\" name=\\\"topic\\\"\\n                 [(ngModel)]=\\\"newTopic\\\" required>\\n          <div class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-outline-secondary\\\" type=\\\"submit\\\" [disabled]=\\\"!topicForm.form.valid\\\"><i\\n              class=\\\"fa fa-plus\\\"></i></button>\\n          </div>\\n        </div>\\n      </form>\\n    </header>\\n    <div class=\\\"list-group list-group-flush\\\">\\n\\n      <a *ngFor=\\\"let topic of topics | keyvalue\\\" (click)=\\\"changeTopic(topic.key)\\\"\\n         class=\\\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\\\"\\n         [class.list-group-item-secondary]=\\\"topic.key == currentTopic\\\">\\n        <span class=\\\"flex-fill\\\">{{topic.key}}</span>\\n        <span class=\\\"badge badge-primary badge-pill mx-3\\\" *ngIf=\\\"topic.value.unread\\\">{{topic.value.unread}}</span>\\n        <button class=\\\"btn btn-outline-danger\\\" (click)=\\\"deleteTopic(topic.key)\\\" type=\\\"button\\\"><i\\n          class=\\\"fa fa-trash\\\"></i></button>\\n      </a>\\n    </div>\\n  </div>\\n  <div class=\\\"col-8 border-left p-0 d-flex flex-column\\\">\\n    <div class=\\\"p-3 flex-fill\\\" id=\\\"messages\\\" #messagesList [scrollTop]=\\\"messagesList.scrollHeight\\\">\\n      <ng-container *ngIf=\\\"topics[currentTopic]\\\">\\n\\n\\n        <div *ngFor=\\\"let message of topics[currentTopic].messages\\\" class=\\\"media p-3 mb-2\\\" [ngClass]=\\\"styled(message)\\\">\\n          <div class=\\\"media-body\\\">\\n            <em *ngIf=\\\"message.typing && !mine(message)\\\">{{message.sender.nickname}} is typing&hellip;</em>\\n            <em *ngIf=\\\"message.joined && !mine(message)\\\">{{message.sender.nickname}} has joined!</em>\\n            <div *ngIf=\\\"message.text\\\">\\n              <b class=\\\"mt-0\\\" *ngIf=\\\"!mine(message)\\\">{{message.sender.nickname}}</b>\\n              {{message.text}}\\n            </div>\\n          </div>\\n        </div>\\n      </ng-container>\\n\\n    </div>\\n\\n    <form (ngSubmit)=\\\"onSubmit()\\\" class=\\\"navbar navbar-light bg-light border-top shadow\\\" #messageForm=\\\"ngForm\\\">\\n      <div class=\\\"input-group\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Send Message\\\" id=\\\"message\\\" name=\\\"message\\\"\\n               [(ngModel)]=\\\"currentMessage\\\" required>\\n        <div class=\\\"input-group-append\\\">\\n          <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\" [disabled]=\\\"!messageForm.form.valid\\\"><i\\n            class=\\\"fa fa-paper-plane\\\"></i></button>\\n        </div>\\n      </div>\\n\\n    </form>\\n  </div>\\n\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n#messages {\\n  overflow: auto;\\n  height: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYW1qa25pZ2h0L0RvY3VtZW50cy9VTUtDL2dpdGh1Yi9DU0VFNTU1MV9UZWFtXzExLTJfTGFiQXNzaWdubWVudHMvTGFiMy9DbGllbnQvc3JjL2FwcC9ob21lL2hvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDYjs7QUFFRDtFQUNFLGVBQWM7RUFDZCxVQUFTLEVBQ1YiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZsZXgtZ3JvdzogMTtcbn1cblxuI21lc3NhZ2VzIHtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIGhlaWdodDogMDtcbn1cbiJdfQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {ChatService} from '../chat.service';\n\ninterface TopicsInterface {\n  [name: string]: { messages: any[], unread?: number };\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  currentMessage = '';\n\n  topics: TopicsInterface = {};\n\n  currentTopic = '';\n  newTopic = '';\n\n  constructor(private chat: ChatService) {\n    this.chat.listener = json => {\n      console.log('home json', json);\n      if (json.message) {\n        const key = json.message.topic;\n        const topic = this.topics[key];\n        topic.messages.push({sender: json.message.sender, text: json.message.text});\n        if (this.currentTopic !== key) {\n          topic.unread = (topic.unread || 0) + 1;\n        }\n      } else if (json.joined) {\n        Object.values(this.topics).forEach(topic => {\n          topic.messages.push({sender: json.joined, joined: true});\n        });\n      } else if (json.topic) {\n        this.topics[json.topic] = {messages: []};\n      } else if (json.deleteTopic) {\n        const key = json.deleteTopic;\n        if (this.currentTopic === key) {\n          this.currentTopic = '';\n        }\n        delete this.topics[key];\n      }\n    };\n\n    this.chat.getTopics().subscribe((topics: TopicsInterface) => {\n      this.topics = topics;\n    });\n  }\n\n  mine(message) {\n    return message.sender.uuid === this.chat.me.uuid;\n  }\n\n  ngOnInit() {\n  }\n\n  onSubmit() {\n    if (!this.currentMessage.length || !this.currentTopic.length) {\n      return;\n    }\n\n    this.chat.send(this.currentTopic, this.currentMessage);\n    this.currentMessage = '';\n  }\n\n  addTopic() {\n    if (!this.newTopic.length) {\n      return;\n    }\n\n    this.chat.addTopic(this.newTopic);\n    this.newTopic = '';\n  }\n\n  styled(message) {\n\n    if (message.typing || message.joined) {\n      return this.mine(message) ? 'd-none' : '';\n    }\n\n    if (this.mine(message)) {\n      return 'rounded-left bg-gradient-primary ml-5 text-white rounded-top';\n    }\n\n    return 'rounded-right bg-gradient-dark mr-5 text-white rounded-top';\n  }\n\n  changeTopic(key: any) {\n    this.currentTopic = key;\n    this.topics[key].unread = 0;\n  }\n\n  deleteTopic(key: any) {\n    this.chat.deleteTopic(key);\n  }\n}\n","module.exports = \"<div class=\\\"justify-content-center align-items-center d-flex flex-fill\\\">\\n  <div class=\\\"card shadow text-center\\\" style=\\\"width: 18rem;\\\">\\n    <div class=\\\"card-body\\\">\\n      <h5 class=\\\"card-title\\\">Welcome</h5>\\n      <p class=\\\"card-text\\\">Please Enter a Nickname {{hostname}}</p>\\n      <form (ngSubmit)=\\\"onSubmit()\\\" #form=\\\"ngForm\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"nickname\\\" name=\\\"nickname\\\" [(ngModel)]=\\\"nickname\\\" required>\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary mt-3\\\" [disabled]=\\\"!form.form.valid\\\">Join</button>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYW1qa25pZ2h0L0RvY3VtZW50cy9VTUtDL2dpdGh1Yi9DU0VFNTU1MV9UZWFtXzExLTJfTGFiQXNzaWdubWVudHMvTGFiMy9DbGllbnQvc3JjL2FwcC93ZWxjb21lL3dlbGNvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGFBQVksRUFDYiIsImZpbGUiOiJzcmMvYXBwL3dlbGNvbWUvd2VsY29tZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZmxleC1ncm93OiAxO1xufVxuIl19 */\"","import {Component, OnInit} from '@angular/core';\nimport {ChatService} from '../chat.service';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.scss']\n})\nexport class WelcomeComponent implements OnInit {\n\n  nickname = '';\n\n  constructor(private chat: ChatService) {\n  }\n\n  ngOnInit() {\n  }\n\n  onSubmit() {\n    if (!this.nickname.length) {\n      return;\n    }\n\n    this.chat.join(this.nickname);\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}